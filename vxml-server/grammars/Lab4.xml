<?xml version= "1.0"? encoding="UTF-8" ?>
 <grammar version="1.0" tag-format="semantics/1.0" root= "toplevel">


  <rule id="toplevel" scope= "public">
   <item repeat="0-1"> I want to go </item>
      <item repeat="0-1">from <ruleref uri="#fromcity"/></item>
      <item repeat="0-1">to <ruleref uri="#tocity"/></item>
      <item repeat="0-1">on <ruleref uri="#alldates"/></item>
       <tag> out.fromcity=rules.fromcity; out.tocity=rules.tocity; out.alldates=rules.alldates </tag>
     </item>
  </rule>


<rule id="tocity" scope= "public">
  <item repeat="0-1"> 
  <tag>out=rules.city</tag>
</rule>

<rule id="fromcity" scope= "public">
  <item repeat="0-1">
  <tag>out=rules.city</tag>
</rule>


  <rule id="city" scope= "public">
  <one-of>
     <item> gothenburg </item>
     <item> paris </item>
     <item> new york </item>
     <item> tokyo </item>
     <item> berlin </item>
     <item> oslo </item>
     <item> sevilla </item>
     <item> madrid </item>
     <item> barcelona </item>
     <item> chicago </item>
     <item> los angeles </item>
     <item> copenhagen </item>
  </one-of>
</rule>


<rule id="alldates" scope="public">
<item repeat="0-1">
  <ruleref uri="#weekday"/><tag> out.weekday=rules.weekday </tag>
</item>
<item repeat="0-1">
  <ruleref uri="#month"/><tag> out.month=rules.month </tag>
</item>
<item repeat="0-1">
  <ruleref uri="#date"/><tag> out.date=rules.date </tag>
</item>

</rule>

  <rule id="date" scope="public">
    <one-of>
     <item> <item repeat="0-1"> the </item> 1st <item repeat="0-1"> of </item> </item>
     <item> <item repeat="0-1"> the </item> 2nd <item repeat="0-1"> of </item> </item>
     <item> <item repeat="0-1"> the </item> 3rd <item repeat="0-1"> of </item> </item>
     <item> <item repeat="0-1"> the </item> 4th <item repeat="0-1"> of </item> </item>
     <item> <item repeat="0-1"> the </item> 5th <item repeat="0-1"> of </item> </item>
     <item> <item repeat="0-1"> the </item> 6th <item repeat="0-1"> of </item> </item>
     <item> <item repeat="0-1"> the </item> 7th <item repeat="0-1"> of </item> </item>
     <item> <item repeat="0-1"> the </item> 8th <item repeat="0-1"> of </item> </item>
     <item> <item repeat="0-1"> the </item> 9th <item repeat="0-1"> of </item> </item>
     <item> <item repeat="0-1"> the </item> 10th <item repeat="0-1"> of </item> </item>
     <item> <item repeat="0-1"> the </item> 11th <item repeat="0-1"> of </item> </item>
     <item> <item repeat="0-1"> the </item> 12th <item repeat="0-1"> of </item> </item>
     <item> <item repeat="0-1"> the </item> 13th <item repeat="0-1"> of </item> </item>
     <item> <item repeat="0-1"> the </item> 14th <item repeat="0-1"> of </item> </item>
     <item> <item repeat="0-1"> the </item> 15th <item repeat="0-1"> of </item> </item>
     <item> <item repeat="0-1"> the </item> 16th <item repeat="0-1"> of </item> </item>
     <item> <item repeat="0-1"> the </item> 17th <item repeat="0-1"> of </item> </item>
     <item> <item repeat="0-1"> the </item> 18th <item repeat="0-1"> of </item> </item>
     <item> <item repeat="0-1"> the </item> 19th <item repeat="0-1"> of </item> </item>
     <item> <item repeat="0-1"> the </item> 20th <item repeat="0-1"> of </item> </item>
     <item> <item repeat="0-1"> the </item> 21st <item repeat="0-1"> of </item> </item>
     <item> <item repeat="0-1"> the </item> 22nd <item repeat="0-1"> of </item> </item>
     <item> <item repeat="0-1"> the </item> 23rd <item repeat="0-1"> of </item> </item>
     <item> <item repeat="0-1"> the </item> 24th <item repeat="0-1"> of </item> </item>
     <item> <item repeat="0-1"> the </item> 25th <item repeat="0-1"> of </item> </item>
     <item> <item repeat="0-1"> the </item> 26th <item repeat="0-1"> of </item> </item>
     <item> <item repeat="0-1"> the </item> 27th <item repeat="0-1"> of </item> </item>
     <item> <item repeat="0-1"> the </item> 28th <item repeat="0-1"> of </item> </item>
     <item> <item repeat="0-1"> the </item> 29th <item repeat="0-1"> of </item> </item>
     <item> <item repeat="0-1"> the </item> 30th <item repeat="0-1"> of </item> </item>
     <item> <item repeat="0-1"> the </item> 31st <item repeat="0-1"> of </item> </item>
    </one-of>
  </rule>

  <rule id="month" scope= "public">
  <one-of>
     <item repeat="0-1"> january </item>
     <item repeat="0-1"> february </item>
     <item repeat="0-1"> march </item>
     <item repeat="0-1"> april </item>
     <item repeat="0-1"> may </item>
     <item repeat="0-1"> june </item>
     <item repeat="0-1"> july </item>
     <item repeat="0-1"> august </item>
     <item repeat="0-1"> september </item>
     <item repeat="0-1"> october </item>
     <item repeat="0-1"> november </item>
     <item repeat="0-1"> december </item>
  </one-of>


<rule id="weekday" scope="public">
  <one-of>
     <item repeat="0-1"> monday </item>
     <item repeat="0-1"> tuesday </item>
     <item repeat="0-1"> wednesday </item>
     <item repeat="0-1"> thursday </item>
     <item repeat="0-1"> friday </item>
     <item repeat="0-1"> saturday </item>
     <item repeat="0-1"> sunday </item>
     <item repeat="0-1"> tomorrow </item>
     <item repeat="0-1"> today </item>

  </one-of>


   </rule>
</grammar>
</xml>
